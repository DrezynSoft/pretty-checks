/**
 * Pretty Checks Extension of DSsys from http://dssys.fotokrajobrazy.warmia.pl
 * All right reserved. DrezynSoft 2017-2018
 * Commercial use without permission prohibited.
 */
/*file=/src/DSsys/czeki.js*/
window.DSsys||(window.DSsys={}),DSsys.czek=function(s,e){this.czek=s,e&&e.type&&(this.type=e.type),e&&e.span&&(this.spanContent=e.span),e&&e.getRadioGroupFn&&(this.getRadioGroupFn=e.getRadioGroupFn),e&&e.className?this.className=e.className:this.className="hook",e&&e.classes?this.classNames=e.classNames:"radio"==this.getType()?this.classNames={sel:"sel-r",noSel:"no-sel-r",sel_noAct:"sel-r-no-act",noSel_noAct:"no-sel-r-no-act"}:this.classNames={sel:"sel",noSel:"no-sel",sel_noAct:"sel-no-act",noSel_noAct:"no-sel-no-act"},this.czek.dssys||(this.czek.dssys={}),this.czek.dssys.czek=this,this.build()},DSsys.czek.prototype.check=function(s){if("radio"==this.getType())for(var e=this.asRadioGroup()(this.czek),t=0;t<e.length;t++){var a=ds(ds(e[t]).poprzedniEl());a.zmnKlase(this.classNames.sel,this.classNames.noSel),e[t].disabled&&a.zmnKlase(this.classNames.sel_noAct,this.classNames.noSel_noAct)}s?(this.czek.checked=!0,this.sp.zmnKlase(this.classNames.noSel,this.classNames.sel),this.czek.disabled&&this.sp.zmnKlase(this.classNames.noSel_noAct,this.classNames.sel_noAct)):(this.czek.checked=!1,this.sp.zmnKlase(this.classNames.sel,this.classNames.noSel),this.czek.disabled&&this.sp.zmnKlase(this.classNames.sel_noAct,this.classNames.noSel_noAct))},DSsys.czek.prototype.disable=function(s){s?(this.czek.disabled=!0,this.sp.zmnKlase("",this.classNames[this.getBaseClass()+"_noAct"])):(this.czek.disabled=!1,this.sp.zmnKlase(this.classNames[this.getBaseClass()+"_noAct"],""))},DSsys.czek.prototype.refreshState=function(){this.ifIs()&&(this.czek.checked?this.sp.zmnKlase(this.classNames.noSel,this.classNames.sel):this.sp.zmnKlase(this.classNames.sel,this.classNames.noSel),this.sp.zmnKlase(this.classNames.noSel_noAct,""),this.sp.zmnKlase(this.classNames.sel_noAct,""),this.czek.disabled&&this.sp.zmnKlase("",this.classNames[this.getBaseClass()+"_noAct"]))},DSsys.czek.prototype.checked=function(){return this.czek.checked},DSsys.czek.prototype.disabled=function(){return this.czek.disabled},DSsys.czek.prototype.build=function(){this.ifIs()||"checkbox"!=this.czek.type&&"radio"!=this.czek.type||(this.addNestedLabelEvent(this.addLabelEvent()),this.sp=ds(this.czek.parentNode.insertBefore(this.createSpan(),this.czek)),this.displayVal=this.czek.style.display,this.czek.style.display="none")},DSsys.czek.prototype.destroy=function(){this.ifIs()&&(ds(ds(this.czek).poprzedniEl()).usun(),this.czek.style.display=this.displayVal)},DSsys.czek.prototype.ifIs=function(){var s=ds(this.czek).poprzedniEl();return!!s&&ds(s).czyJestKlasa(this.className)},DSsys.czek.prototype.getType=function(){return this.type?this.type:this.czek.type},DSsys.czek.prototype.asRadioGroup=function(){return this.getRadioGroupFn?this.getRadioGroupFn:function(s){var e=ds(s).najblizszy("form").el();return e?ds('input[type="radio"][name="'+s.name+'"]',e).elmn:ds('input[type="radio"][name="'+s.name+'"]').elmn}},DSsys.czek.prototype.getBaseClass=function(){return this.czek.checked?"sel":"noSel"},DSsys.czek.prototype.updateLabel=function(s){ds.zda.stopDomyslne(s.zda),this.updateInput()},DSsys.czek.prototype.update=function(s){this.updateInput()},DSsys.czek.prototype.updateInput=function(){this.czek.checked&&!this.czek.disabled?(this.check(!1),ds(this.czek).odpalZda("change")):this.czek.disabled||(this.check(!0),ds(this.czek).odpalZda("change"))},DSsys.czek.prototype.addLabelEvent=function(){if(""!=this.czek.id){var s=ds('label[for="'+this.czek.id+'"]').el();s&&(ds(s).on("click",ds.zwiazFnZda(this.updateLabel,this)),this.label=!1)}return s},DSsys.czek.prototype.addNestedLabelEvent=function(s){for(var e=this.czek.parentNode;e;){if("label"==e.nodeName.toLowerCase()){e!==s&&ds(e).on("click",ds.zwiazFnZda(this.updateLabel,this)),this.label=!0;break}e=e.parentNode}},DSsys.czek.prototype.createSpan=function(){var s=this.getBaseClass(),e=document.createElement("span");if(this.spanContent)e.innerHTML=this.spanContent;else{var t=document.createTextNode(" ");e.appendChild(t)}var a=this.className+" "+this.classNames[s];return this.czek.disabled&&(a+=" "+this.classNames[s+"_noAct"]),e.className=a,this.label||ds(e).on("click",ds.zwiazFnZda(this.update,this)),e};